# Security 関連の試験 Tips

最終編集日： 2025/10/26

## 「何を」保護し、「いつ」対応するか

Google Cloud のセキュリティシナリオ問題の多くは、「何を」保護し、「いつ」対応するかが問題となっている。
問題文を読んだら、まず以下の2つの軸で要件を分類するのが望ましい。これにより、無関係な選択肢を即座に除外できる。

### 「何を」保護するか？

セキュリティの対象は、大きく「設定（インフラ）」と「データ（中身）」の2つに分けられる。

* A. リソースと設定のセキュリティ (Security Posture)
  * これは、リソース（バケット、VM、ネットワークなど）が **「どのように構成されているか」** という問題です。

  * 主な問い: 
    * インフラの設定は安全か？
    * 推奨されるベストプラクティスに従っているか？
    * 脆弱な構成（例: パブリックアクセス、広すぎるファイアウォール、不十分なロギング）はないか？

  * 主な関連サービス:
    * **Security Command Center (SCC)**: 既知の脆弱性や設定ミスを検出し、セキュリティ体制を評価する
    * **組織のポリシー (Organization Policy)**: 特定の構成（例: 外部IPの付与）を禁止する
    * **VPC ファイアウォール / Cloud Armor**: ネットワークレベルのアクセスを制御・ブロックする

* B. データのセキュリティ (Data Protection)
  * これは、リソースの **「中に何が保存されているか」** という問題です。

  * 主な問い: 
    * どこに機密データ（PII, PCI, 医療情報）があるか？
    * そのデータは適切に分類・暗号化されているか？
    * データがマスキング（匿名化）されているか？

  * 主な関連サービス:
    * **Sensitive Data Protection (SDP / 旧 DLP)**: データの中身をスキャンして機密情報を検出し、分類し、マスキングする
    * **Cloud Key Management Service (KMS)**: データの暗号化に使用する鍵を管理する
    * **VPC Service Controls**: 承認されたネットワーク境界の外へデータが持ち出されるのを防ぐ

> [!TIP]
> 一例として GCS バケットで考えると、それぞれ以下のような機能の棲み分けとなる。
> 
> * SCC は「バケットが公開されていること（設定の問題）」を検出する
> * SDP は「公開バケットに機密データが含まれていること（データの問題）」を検出する

### 「いつ」対応するか？

「違反を防ぎたいのか（予防）」、それとも「違反を見つけたいのか（発見）」を判断する。

* A. 予防的統制 (Preventive Controls)
  * 違反やインシデントが発生するのを未然に防ぐための制御

  * キーワード: 
    * 防ぐ
    * 禁止する
    * 制限する
    * ～できないようにする準拠させる

  * 主な関連サービス:
    * **IAM (Identity and Access Management)**: 「誰が」「何を」できるかを定義し、不正な操作を防ぐ
    * **組織のポリシー (Organization Policy)**: 「リソースを特定リージョンのみに作成する」など、ポリシー違反の構成を禁止する
    * **VPC Service Controls**: サービス間のデータ移動を制限し、データ漏洩を防ぐ
    * **IAP (Identity-Aware Proxy)**: ゼロトラストモデルで、リソースへのアクセスを制御する

* B. 発見的統制 (Detective Controls)
  * 違反やインシデントが発生した（または、している）ことを見つけるための制御

  * キーワード: 
    * 見つける
    * 検出する
    * スキャンする
    * 特定する
    * アラートを上げる
    * 監査する

  * 主な関連サービス:
    * **Sensitive Data Protection (SDP)**: 既に保存されている非準拠の機密データを発見する
    * **Security Command Center (SCC)**: 構成ミスや脆弱性を発見する
    * **Cloud Logging**: 発生したイベント（API呼び出しなど）を記録し、レビューできるようにする
    * **Cloud Monitoring**: ログやメトリクスに基づいてアラートを上げる

* C. 修正的統制 (Corrective Controls)
  * 違反が発見された後に、それを自動的に修正・修復するための制御

  * キーワード:
    * 自動修復する
    * 修正する

  * 主な関連サービス:
    * **Cloud Functions / Cloud Run**: SCC の検出結果やログをトリガーにして、自動的に設定（例: 公開バケットを非公開にする）を修正するスクリプトを実行する